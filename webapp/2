import { initializeApp } from 'firebase';
import { getMessaging, getToken } from 'firebase/messaging';

const firebaseConfig = {
	apiKey: 'AIzaSyA7Zj56RE-zq3NuVU1QeZuXP8_RPFxlNRY',
	authDomain: 'tibia-1fcfa.firebaseapp.com',
	projectId: 'tibia-1fcfa',
	storageBucket: 'tibia-1fcfa.appspot.com',
	messagingSenderId: '244551684591',
	appId: '1:244551684591:web:ec0b7e554422245ff7a61a'
};



function requestNotification() {
	console.log('Requesting notification permission...');
	Notification.requestPermission().then((permission) => {
		if (permission == 'granted') {
			export const app = initializeApp(firebaseConfig);
			const messaging = getMessaging(app);
			getToken(messaging, {vapidKey: 'BCwyj5NDGuDEJKvmomjW-VSOJ8vpuZRdcu-DM3zPkah64e00rucIK8lHvjV0H3oXhyZCrcLTuLvSuqtJOOi5IoI'}).then((currentToken) => {
				if (currentToken) {
					console.log('current token', currentToken)
				} else {
					// Show permission request UI
					console.log('No registration token available. Request permission to generate one.');
					// ...
				}
			}).catch((err) => {
				console.log('An error occurred while retrieving token. ', err);
				// ...
			});
		}
	})

}
